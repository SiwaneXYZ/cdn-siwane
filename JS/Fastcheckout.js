// ===== Admin.js اصدار 1.0 بتاريخ 28 مايو 205 ===== //
var _0x5352 = ['copy', 'getElementById', 'selectstart', 'textContent', 'DOMContentLoaded', 'prototype', 'history', '1401312JuzxQv', 'getObfuscatedKey', 'className', 'addProtectionStyles', 'promoCodeUsed', 'promoStatus', 'display', 'error', 'removeItem', 'push', '3897711gJgYkP', '912662cZfNlI', '13554045fOQhSg', 'split', 'addEventListener', 'target', '1668045FmKzRz', 'disabled', '1431057gRdsXv', 'promoCode', 'productPageUrl', 'classList', 'remove', 'createElement', 'src', 'startsWith', 'style', 'background', 'href', 'location', 'body', 'append', 'length', 'log', 'parse', '7712419yNqYcZ', 'querySelector', 'innerHTML', 'hidden', 'slice', 'toFixed', '2313360LqVlTf', 'displayOrderHistory', 'styleElement', 'test', 'paymentMethod', 'parentNode', '1802952uHynYt', 'submit', 'find', 'includes', 'toString', 'getElementById\x20is\x20a\x20method.', 'get', 'value', 'type', 'ok', 'message', '1458129QoEafr', 'sendPhoto', '4580228lVjSgT', '310488xYJqRk', '9934148oZkWyO', '6261177gKzXjT', 'preventDefault', 'contextmenu', 'ctrlKey', 'shiftKey', 'cut', 'dragstart', 'keydown', 'toUpperCase', 'includes', 'F12', 'Decryption\x20failed:', 'remove', 'support@siwane.xyz?subject=مشكلة\x20في\x20رمز\x20التفعيل', 'support-link', 'خطأ:\x20رمز\x20التفعيل\x20غير\x20صحيح!\x20يرجى\x20التأكد\x20من\x20التكوين.', 'overlay', 'notification-error', 'support@siwane.xyz?subject=مشكلة\x20في\x0aالنطاق', 'خطأ:\x20النطاق\x20الحالي\x20غير\x20مدعوم!\x20يرجى\x20الاتصال\x0aبالدعم.', 'support@siwane.xyz?subject=خطأ\x20عام', 'حدث\x20خطأ\x20غير\x20متوقع!\x20يرجى\x20إعادة\x20تحميل\x0aالصفحة\x20أو\x20الاتصال\x20بالدعم.', 'verifyDomain', 'href', 'self', 'top', 'search', 'has', 'src', 'appendChild', 'classList', 'add', 'history', 'closest', 'getAttribute', 'order-number', 'updateOrderStatusInHistory', 'getElementById\x20is\x20not\x20a\x20function.', 'addEventListener', 'checkoutOrderDetails', 'isFinite', 'parse', 'split', 'push', 'postId', 'packageValue', 'packageText', 'productName', 'articleLink', 'websiteLink', 'productNameDisplay', 'textContent', 'articleLinkDisplay', 'href', 'target', '_blank', 'innerHTML', 'appendChild', 'clientWebsiteLink', 'packageSelectedText', 'basePriceDisplay', 'toFixed', 'sessionStorage', 'hidden', 'firebaseUserProfileData', 'localStorage', 'fullName', 'email', 'phoneNumber', 'uid', 'textContent', 'style', 'display', 'none', 'warn', 'length', 'missing-phone-overlay', 'missingPhoneMessageText', 'missingPhoneProfileLink', 'href', 'loginPageUrl', 'error', 'promo-section', 'style', 'display', 'cih-discount-note', 'block', 'none', 'value', 'toLowerCase', 'cih', 'resetPromoIfNotCIH', 'promoCodeInput', 'promoStatus', 'innerHTML', 'className', 'promoStatusDiv', 'promoCodeInput', 'promoStatusDiv', 'applyPromoButton', 'addEventListener', 'handleApplyPromo', 'input', 'trim', 'toUpperCase', 'disabled', 'promoStatus', 'promoCode', 'value', 'resetPromoIfNotCIH', 'paymentScreenshot', 'paymentScreenshotPreview', 'screenshotPreviewContainer', 'clearScreenshotButton', 'querySelector', '.screenshot-upload\x20label', 'addEventListener', 'change', 'FileReader', 'onload', 'readAsDataURL', 'remove', 'handleConfirmPurchase', 'userOrderHistory', 'JSON', 'parse', 'unshift', 'orderNumber', 'maxHistoryItems', 'slice', 'stringify', 'localStorage', 'findIndex', 'order-history-item', 'orderNumber', 'status', 'processing', 'timestamp', 'now', '7\x20*\x2024\x20*\x2060\x20*\x2060\x20*\x201000', 'filter', 'length', 'note', 'style', 'display', 'none', 'innerHTML', 'no-orders-message', 'لم\x20تقم\x0aباجراء\x20اي\x20طلب', 'block', 'forEach', 'toLocaleString', 'ar-MA', 'timeZone', 'Africa/Casablanca', 'order-history-item', 'data-order-number', 'noLabel', 'productLabel', 'articleLinkLabel', 'clientLinkLabel', 'noteLabel', 'initialTotalLabel', 'discountLabel', 'promoLabel', 'finalTotalLabel', 'offerLabel', 'timeLabel', 'statusProcessing', 'statusCompleted', 'complete-order-button', 'disabled', 'payment-method-option', 'setAttribute', 'radio', 'name', 'paymentMethod', 'id', 'method-', 'value', 'label', 'htmlFor', 'method-', 'logo', 'vertical-align', 'middle', 'margin-left', '10px', 'id', 'name', 'mink', 'initialTotalDisplay', 'discountAmountDisplay', 'discountRow', 'finalTotalDisplay', 'style', 'display', 'block', 'none', 'handleApplyPromo', 'promoCodeInput', 'promoCodeInput.value.trim().toUpperCase()', 'promoStatus', 'applyPromoButton', 'loadingMessage', 'innerHTML', 'loading', 'style', 'display', 'block', 'none', 'initialTotal', 'toString', 'userId', 'uid', 'postId', 'appsScriptUrl', 'method', 'POST', 'body', 'response.json', 'valid', 'type', 'percentage', 'value', 'fixed', 'Math', 'min', 'toFixed', 'success', 'error', 'applyButton.disabled\x20=\x20false;', 'finalTotal', 'initialTotal', 'promoCodeUsed', 'orderNumber', 'orderTime', 'generateUniqueOrderNumber', 'new\x20Date().toISOString()', 'captionText', 'header', 'body', 'fullNameLabel', 'fullName', 'emailLabel', 'email', 'numberLabel', 'phone', 'uidLabel', 'postId', 'productLabel', 'articleLinkLabel', 'clientLinkLabel', 'noteLabel', 'basePriceLabel', 'promoLabel', 'discountLabel', 'finalTotalLabel', 'offerLabel', 'paymentMethod', 'orderTime', 'telegramApiUrl', 'method', 'POST', 'body', 'response.json', 'ok', 'description', 'statusText', 'saveOrderToHistory', 'sessionStorage', 'removeItem', 'checkoutOrderDetails', 'window.location.href', 'thankYouPageUrl', 'loadingMessage', 'style', 'display', 'none', 'confirmPurchaseButton', 'disabled', 'Math', 'floor', 'random', '100000', '999999', 'toString', 'checkDomainWhitelist', 'hostname', 'scriptUrl', 'sheetName', 'obfuscatedUrlCodes', 'fromCharCode', 'redirectUrl', 'requestUrl', 'fetch', 'then', 'response', 'ok', 'json', 'data', 'isWhitelisted', 'catch', 'error', 'console.error', 'Domain\x20check\x0afailed:', '116', '97', '122'];
var _0x5352_ = function(_0x47e12f, _0x21743a) {
    _0x47e12f = _0x47e12f - 0x140;
    var _0x5352 = _0x5352_[_0x47e12f];
    return _0x5352;
};
(function(_0x356958, _0x1c172d) {
    var _0x10b7b1 = _0x5352_;
    while (!![]) {
        try {
            var _0x45236c = -parseInt(_0x10b7b1(0x19b)) + -parseInt(_0x10b7b1(0x1a2)) + -parseInt(_0x10b7b1(0x17c)) * -parseInt(_0x10b7b1(0x16b)) + parseInt(_0x10b7b1(0x1a8)) * -parseInt(_0x10b7b1(0x180)) + parseInt(_0x10b7b1(0x187)) + parseInt(_0x10b7b1(0x19d)) + -parseInt(_0x10b7b1(0x183)) * -parseInt(_0x10b7b1(0x1a4));
            if (_0x45236c === _0x1c172d)
                break;
            else
                _0x356958['push'](_0x356958['shift']());
        } catch (_0x39a1fe) {
            _0x356958['push'](_0x356958['shift']());
        }
    }
}(_0x5352, 0x1654a3));
var _0x2199f1 = function(_0x3446b5, _0x25e40e) {
    var _0x58c03e = _0x5352_;
    _0x3446b5 = _0x3446b5 - 0x0;
    var _0x56a42a = _0x58c03e(_0x3446b5);
    if (_0x56a42a['startsWith']('getElementById') && typeof document[_0x56a42a] === 'function') {
        var _0x1a580a = document[_0x56a42a](_0x25e40e);
        return _0x1a580a;
    } else if (_0x56a42a['includes']('toString') && typeof _0x25e40e[_0x56a42a] === 'function') {
        return _0x25e40e[_0x56a42a]();
    } else if (_0x56a42a['includes']('value')) {
        return _0x25e40e[_0x56a42a];
    } else {
        return _0x56a42a;
    }
};
var _0x48e916 = ['104', '116', '116', '112', '115', '58', '47', '47', '115', '105', '119', '97', '110', '101', '46', '120', '121', '122'];
var _0x438df3 = _0x5352_;
const obfuscatedSecretKeyBase64 = _0x438df3(0x1a3);
const getObfuscatedKey = () => {
    var _0x42f025 = _0x438df3;
    return atob(obfuscatedSecretKeyBase64);
};
function decryptText(_0x5c7965, _0x280e55) {
    var _0x16b04b = _0x438df3;
    try {
        const _0x51c518 = atob(_0x5c7965);
        return CryptoJS['AES'][_0x16b04b(0x19a)](_0x51c518, _0x280e55)[_0x16b04b(0x191)](CryptoJS['enc']['Utf8']);
    } catch (_0x39a044) {
        console[_0x16b04b(0x18c)](_0x16b04b(0x166), _0x39a044);
        showErrorNotification('key');
        return null;
    }
}
function showErrorNotification(_0x32356c) {
    var _0x211756 = _0x438df3;
    const _0x15352c = document[_0x211756(0x18b)]('div');
    _0x15352c[_0x211756(0x184)] = _0x211756(0x170);
    const _0x1d582b = document[_0x211756(0x18b)]('div');
    _0x1d582b[_0x211756(0x184)] = _0x211756(0x171);
    if (_0x32356c === 'key') {
        _0x1d582b[_0x211756(0x190)] = `
      <p>${_0x211756(0x16e)}</p>
      <a href="mailto:${_0x211756(0x16d)}" class="support-link">${_0x211756(0x16f)}</a>
    `;
    } else if (_0x32356c === 'naming') {
        _0x1d582b[_0x211756(0x190)] = `
      <p>${_0x211756(0x173)}</p>
      <a href="mailto:${_0x211756(0x172)}" class="support-link">${_0x211756(0x16f)}</a>
    `;
    } else {
        _0x1d582b[_0x211756(0x190)] = `
        <p>${_0x211756(0x175)}</p>
        <a href="mailto:${_0x211756(0x174)}" class="support-link">${_0x211756(0x16f)}</a>
      `;
    }
    document[_0x211756(0x177)][_0x211756(0x179)](_0x15352c);
    document[_0x211756(0x177)][_0x211756(0x179)](_0x1d582b);
}
function verifyDomain() {
    var _0x411e74 = _0x438df3;
    if (typeof encryptedBase64Checkout === 'undefined' || !encryptedBase64Checkout[_0x411e74(0x1b4)] || !encryptedBase64Checkout[_0x411e74(0x1c3)] || !encryptedBase64Checkout[_0x411e74(0x1c4)]) {
        console[_0x411e74(0x18c)]('encryptedBase64Checkout\x20object\x20not\x20found\x20or\x20incomplete.');
        showErrorNotification('key');
        return;
    }
    const _0x42f025 = _0x411e74(0x181)();
    const _0x5c330f = decryptText(encryptedBase64Checkout[_0x411e74(0x1b4)], _0x42f025);
    if (_0x5c330f) {
        const _0x2289f0 = window[_0x411e74(0x178)]['hostname'];
        if (_0x2289f0[_0x411e74(0x1a7)](/^www\./, '') === _0x5c330f[_0x411e74(0x1a7)](/^www\./, '')) {
            protectedCode(encryptedBase64Checkout[_0x411e74(0x1c3)], encryptedBase64Checkout[_0x411e74(0x1c4)]);
        } else {
            showErrorNotification('naming');
        }
    } else {
        showErrorNotification('key');
    }
}
const blockCopyActions = () => {
    var _0x573489 = _0x438df3;
    document[_0x573489(0x193)](_0x573489(0x168), _0x283a05 => {
        var _0x1c4856 = _0x573489;
        _0x283a05[_0x1c4856(0x167)]();
        showCopyWarning();
        return ![];
    });
    document[_0x573489(0x193)](_0x573489(0x140), _0x2264c6 => {
        var _0x546b5a = _0x573489;
        _0x2264c6[_0x546b5a(0x167)]();
        showCopyWarning();
        return ![];
    });
    document[_0x573489(0x193)](_0x573489(0x16a), _0x4376c7 => {
        var _0x489679 = _0x573489;
        _0x4376c7[_0x489679(0x167)]();
        showCopyWarning();
        return ![];
    });
    document[_0x573489(0x193)](_0x573489(0x16b), _0x498b5a => {
        var _0x42468d = _0x573489;
        _0x498b5a[_0x42468d(0x167)]();
        showCopyWarning();
        return ![];
    });
    document[_0x573489(0x193)](_0x573489(0x142), _0x212001 => {
        var _0x5418b1 = _0x573489;
        _0x212001[_0x5418b1(0x167)]();
        showCopyWarning();
        return ![];
    });
    document[_0x573489(0x193)](_0x573489(0x16c), _0x3565f4 => {
        var _0x4191d9 = _0x573489;
        if (_0x3565f4[_0x4191d9(0x169)] && _0x3565f4[_0x4191d9(0x16f)] && ['I', 'J', 'C'][_0x4191d9(0x153)](_0x3565f4['key'][_0x4191d9(0x152)]())) {
            _0x3565f4[_0x4191d9(0x167)]();
            showCopyWarning();
            return ![];
        }
        if (_0x3565f4['key'] === _0x4191d9(0x154)) {
            _0x3565f4[_0x4191d9(0x167)]();
            showCopyWarning();
            return ![];
        }
        if (_0x3565f4[_0x4191d9(0x169)] && _0x3565f4['key'][_0x4191d9(0x152)]() === 'U') {
            _0x3565f4[_0x4191d9(0x167)]();
            showCopyWarning();
            return ![];
        }
    });
};
function showCopyWarning() {
    var _0x4c20fe = _0x438df3;
    const _0x16a249 = document[_0x4c20fe(0x18f)]('.copy-warning');
    if (_0x16a249)
        return;
    const _0x3062be = document[_0x4c20fe(0x18b)]('div');
    _0x3062be[_0x4c20fe(0x184)] = _0x4c20fe(0x16f);
    _0x3062be[_0x4c20fe(0x190)] = `
    <div class="warning-overlay"></div>
    <div class="warning-content">
      <h3>غير مسموح بنسخ المحتوى!</h3>
      <p>جميع حقوق النشر محفوظة</p>
    </div>
  `;
    document[_0x4c20fe(0x177)][_0x4c20fe(0x179)](_0x3062be);
    setTimeout(() => {
        _0x3062be[_0x4c20fe(0x167)]();
    }, 0xbb8);
}
if (window[_0x438df3(0x17a)] !== window[_0x438df3(0x17b)]) {
    window[_0x438df3(0x17b)]['location'][_0x438df3(0x178)] = window[_0x438df3(0x17a)]['location'][_0x438df3(0x178)];
}
const addProtectionStyles = () => {
    var _0x53e1a0 = _0x438df3;
    const _0x4c9416 = `
    body {
      -webkit-user-select: none\x20!important;
      -moz-user-select: none\x20!important;
      -ms-user-select: none\x20!important;
      user-select: none\x20!important;
    }

    .copy-warning\x20{
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .warning-overlay\x20{
      position: absolute;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
    }
    .warning-content\x20{
      position: relative;
      background: #f8d7da;
      padding: 30px;
      border-radius: 10px;
      text-align: center;
      max-width: 80%;
      box-shadow: 0\x200\x2020px\x20rgba(0,0,0,0.5);
      z-index: 10000;
    }
    .warning-content\x20h3\x20{
      color: #721c24;
      margin-bottom: 15px;
    }

    .overlay\x20{
      position: fixed;\x20top: 0;\x20left: 0;
      width: 100%;\x20height: 100%;
      background: rgba(255,\x20255,\x20255,\x200.7);
      z-index: 10000;\x20backdrop-filter: blur(5px);
    }
    .notification-error\x20{
      background-color: #f8d7da;
      color: #721c24;\x20padding: 20px;
      text-align: center;\x20border-radius: 10px;
      box-shadow: 0\x200\x2015px\x20rgba(0,\x200,\x200,\x200.2);
      font-weight: bold;\x20font-size: 18px;
      position: fixed;\x20top: 50%;\x20left: 50%;
      transform: translate(-50%,\x20-50%);
      animation: slideIn\x200.5s\x20ease-in-out;
      z-index: 10001;\x20width: 80%;\x20max-width: 500px;
    }
    .support-link\x20{
      display: block;\x20margin-top: 15px;
      padding: 10px;\x20background-color: #25d366;
      color: white;\x20text-decoration: none;
      font-weight: bold;\x20border-radius: 5px;
      text-align: center;
    }
    .support-link:hover\x20{\x20background-color: #128c7e;\x20}
    @keyframes\x20slideIn\x20{
      from\x20{\x20opacity: 0;\x20transform: translate(-50%,\x20-60%);\x20}
      to\x20{\x20opacity: 1;\x20transform: translate(-50%,\x20-50%);\x20}
    }
  `;
    const _0x1a7195 = document[_0x53e1a0(0x18b)]('style');
    _0x1a7195[_0x53e1a0(0x143)] = _0x4c9416;
    document['head'][_0x53e1a0(0x179)](_0x1a7195);
};
addProtectionStyles();
blockCopyActions();
function protectedCode(_0x59972b, _0x3f5385) {
    var _0x56a682 = _0x438df3;
    console[_0x56a682(0x18c)]('[Checkout\x20script]\x20Script\x20starting\x20(inside\x20protectedCode)...');
    const checkoutConfig = _0x59972b;
    let _0x4c20fe = 0x0;
    let _0x3f1f7d = 0x0;
    let _0x296a1a = 0x0;
    let _0x3c383f = null;
    let _0x2056ba = null;
    let _0x4a5f45 = null;
    document[_0x56a682(0x193)](_0x56a682(0x145), function() {
        var _0x48f58b = _0x56a682;
        console[_0x48f58b(0x18c)]('[Checkout\x20script]\x20DOMContentLoaded\x20fired.');
        const _0x306788 = document[_0x48f58b(0x141)]('statusMessage');
        const _0x58c308 = document[_0x48f58b(0x141)]('confirmPurchaseButton');
        const _0x3d301b = document[_0x48f58b(0x18f)]('.checkout-container');
        const _0x589574 = document[_0x48f58b(0x18f)]('.container-history');
        const _0x4c6acb = document[_0x48f58b(0x18f)]('.missing-phone-overlay');
        const _0x1c833d = document[_0x48f58b(0x141)]('missingPhoneMessageText');
        const _0x294e9f = document[_0x48f58b(0x141)]('missingPhoneProfileLink');
        const _0x546c59 = document[_0x48f58b(0x141)]('productNameDisplay');
        const _0x310578 = document[_0x48f58b(0x141)]('articleLinkDisplay');
        const _0x27ab97 = document[_0x48f58b(0x141)]('clientWebsiteLink');
        const _0x454807 = document[_0x48f58b(0x141)]('packageSelectedText');
        const _0x58444c = document[_0x48f58b(0x141)]('basePriceDisplay');
        console[_0x48f58b(0x18c)]('DOM\x20elements\x20references\x20obtained.');
        const _0x4d0752 = new URLSearchParams(window[_0x48f58b(0x178)][_0x48f58b(0x17d)]);
        if (_0x4d0752[_0x48f58b(0x17e)](_0x48f58b(0x17e))) {
            console[_0x48f58b(0x18c)]('History\x20parameter\x20found\x20in\x20URL.\x20Displaying\x20order\x20history.');
            if (_0x3d301b)
                _0x3d301b[_0x48f58b(0x17f)][_0x48f58b(0x18a)]('hidden');
            if (_0x4c6acb)
                _0x4c6acb[_0x48f58b(0x17f)][_0x48f58b(0x18a)]('hidden');
            if (_0x589574) {
                _0x589574[_0x48f58b(0x17f)][_0x48f58b(0x18c)]('hidden');
                console[_0x48f58b(0x18c)]('.container-history\x20shown.');
                const _0x19a084 = _0x589574[_0x48f58b(0x18f)]('#closeHistoryPopup');
                if (_0x19a084) {
                    _0x19a084[_0x48f58b(0x193)]('click', function() {
                        var _0x2d3a1f = _0x48f58b;
                        window[_0x2d3a1f(0x178)][_0x2d3a1f(0x178)] = checkoutConfig[_0x2d3a1f(0x1b7)];
                        console[_0x2d3a1f(0x18c)]('Redirecting\x20to\x20product\x20page\x20as\x20requested.');
                    });
                    console[_0x48f58b(0x18c)]('#closeHistoryPopup\x20event\x20listener\x20added.');
                } else {
                    console[_0x48f58b(0x148)]("#closeHistoryPopup\x20button\x20not\x20found\x20inside\x20.container-history!");
                }
            } else {
                console[_0x48f58b(0x148)](".container-history\x20element\x20not\x20found!\x20Cannot\x20display\x20history.");
            }
            _0x48f58b(0x19e)();
            const _0x573b0a = document[_0x48f58b(0x141)]('tableHistory');
            if (_0x573b0a) {
                _0x573b0a[_0x48f58b(0x193)]('click', function(_0x2ce19d) {
                    var _0x1e36f9 = _0x48f58b;
                    const _0x46422d = _0x2ce19d[_0x1e36f9(0x194)];
                    if (_0x46422d && _0x46422d[_0x1e36f9(0x17f)][_0x1e36f9(0x153)]('complete-order-button')) {
                        const _0x51c6b1 = _0x46422d[_0x1e36f9(0x18f)]('data-order-number');
                        if (_0x51c6b1) {
                            console[_0x1e36f9(0x18c)](`[History\x20Click]\x20Marking\x20order\x20${_0x51c6b1}\x20as\x20completed...`);
                            _0x1e36f9(0x1c1)(_0x51c6b1, 'completed');
                            _0x1e36f9(0x19e)();
                        }
                    }
                });
                console[_0x48f58b(0x18c)]('#tableHistory\x20event\x20delegation\x20listener\x20added.');
            } else {
                console[_0x48f58b(0x149)]("#tableHistory\x20element\x20not\x20found.\x20Cannot\x20add\x20complete\x20button\x20listener.");
            }
            console[_0x48f58b(0x18c)]('Exiting\x20DOMContentLoaded\x20-\x20Explicit\x20History\x20mode.');
            return;
        }
        console[_0x48f58b(0x18c)]('No\x20history\x20parameter\x20found.\x20Checking\x20sessionStorage\x20for\x20order\x20details.');
        const _0x3b0365 = sessionStorage[_0x48f58b(0x14a)]('checkoutOrderDetails');
        console[_0x48f58b(0x18c)]("Read\x20from\x20sessionStorage\x20('checkoutOrderDetails'):", _0x3b0365);
        let _0x5c421f = ![];
        if (_0x3b0365) {
            try {
                _0x4a5f45 = JSON[_0x48f58b(0x18d)](_0x3b0365);
                console[_0x48f58b(0x18c)]("Parsed\x20order\x20details\x20from\x20sessionStorage:", _0x4a5f45);
                if (_0x4a5f45 && typeof _0x4a5f45 === 'object' && (_0x4a5f45[_0x48f58b(0x1b1)] == null || _0x4a5f45[_0x48f58b(0x1b3)] == null || !_0x4a5f45[_0x48f58b(0x1b4)] || !_0x4a5f45[_0x48f58b(0x1b5)] || !_0x4a5f45[_0x48f58b(0x1b6)])) {
                    console[_0x48f58b(0x151)]("Order\x20details\x20from\x20sessionStorage\x20are\x20incomplete\x20or\x20invalid\x20for\x20checkout.", _0x4a5f45);
                    _0x5c421f = ![];
                } else {
                    _0x5c421f = !![];
                    console[_0x48f58b(0x18c)]("Order\x20details\x20from\x20sessionStorage\x20are\x20complete\x20and\x20valid\x20for\x20checkout.");
                    const _0x3d0012 = _0x4a5f45[_0x48f58b(0x1b1)];
                    const _0x47b926 = _0x4a5f45[_0x48f58b(0x1b7)] || 'لم\x20يتم\x20إدخاله';
                    const _0x334460 = parseFloat(_0x4a5f45[_0x48f58b(0x1b3)]);
                    const _0x2774a9 = _0x4a5f45[_0x48f58b(0x1b4)];
                    const _0x4b789a = _0x4a5f45[_0x48f58b(0x1b5)];
                    const _0x5c9868 = _0x4a5f45[_0x48f58b(0x1b6)];
                    if (_0x546c59)
                        _0x546c59[_0x48f58b(0x144)] = _0x4b789a;
                    if (_0x310578) {
                        const _0x296568 = document[_0x48f58b(0x18b)]('a');
                        _0x296568[_0x48f58b(0x178)] = _0x5c9868;
                        _0x296568[_0x48f58b(0x144)] = _0x5c9868;
                        _0x296568[_0x48f58b(0x19f)] = _0x48f58b(0x17b);
                        _0x310578[_0x48f58b(0x190)] = '';
                        _0x310578[_0x48f58b(0x179)](_0x296568);
                    }
                    if (_0x27ab97)
                        _0x27ab97[_0x48f58b(0x144)] = _0x47b926;
                    if (_0x454807)
                        _0x454807[_0x48f58b(0x144)] = _0x2774a9;
                    if (_0x58444c)
                        _0x58444c[_0x48f58b(0x144)] = `درهم.\x20${_0x334460[_0x48f58b(0x199)](0x2)}`;
                    console[_0x48f58b(0x18c)]("Product\x20details\x20display\x20elements\x20filled\x20from\x20sessionStorage.");
                    _0x4c20fe = _0x334460;
                    _0x3f1f7d = _0x4c20fe;
                    updateTotalsDisplay();
                    console[_0x48f58b(0x18c)]('Initial\x20totals\x20calculated\x20and\x20displayed.');
                }
            } catch (_0x56a5c1) {
                console[_0x48f58b(0x148)]("Failed\x20to\x20parse\x20order\x20details\x20from\x20sessionStorage:", _0x56a5c1);
                _0x4a5f45 = null;
                _0x5c421f = ![];
            }
        } else {
            console[_0x48f58b(0x151)]("Order\x20details\x20not\x20found\x20in\x20sessionStorage.");
            _0x4a5f45 = null;
            _0x5c421f = ![];
        }
        if (_0x5c421f) {
            console[_0x48f58b(0x18c)]("Valid\x20order\x20details\x20found.\x20Displaying\x20checkout\x20form.");
            if (_0x3d301b)
                _0x3d301b[_0x48f58b(0x17f)][_0x48f58b(0x18c)]('hidden');
            if (_0x589574)
                _0x589574[_0x48f58b(0x17f)][_0x48f58b(0x18a)]('hidden');
            if (_0x4c6acb)
                _0x4c6acb[_0x48f58b(0x17f)][_0x48f58b(0x18a)]('hidden');
            const _0x5844c1 = document[_0x48f58b(0x141)]('userFullName');
            const _0x47f208 = document[_0x48f58b(0x141)]('userEmail');
            const _0x27ed1d = document[_0x48f58b(0x141)]('userPhone');
            const _0x580218 = document[_0x48f58b(0x141)]('userId');
            const _0x32356c = localStorage[_0x48f58b(0x14a)]('firebaseUserProfileData');
            let _0x51b472 = null;
            console[_0x48f58b(0x18c)]("Attempting\x20to\x20load\x20user\x20data\x20from\x20localStorage.");
            if (_0x32356c) {
                try {
                    const _0x165b4c = JSON[_0x48f58b(0x18d)](_0x32356c);
                    _0x51b472 = _0x165b4c;
                    console[_0x48f58b(0x18c)]("User\x20data\x20parsed\x20from\x20localStorage:", _0x51b472);
                } catch (_0x56a5c1) {
                    console[_0x48f58b(0x148)](`فشل\x20في\x20قراءة\x20وتحليل\x20بيانات\x20المستخدم\x20من\x20localStorage:\x20${_0x56a5c1['message']}`, _0x56a5c1);
                    _0x51b472 = null;
                }
            } else {
                console[_0x48f58b(0x151)](`User\x20data\x20not\x20found\x20in\x20localStorage...\x20Is\x20user\x20logged\x20in?`);
                _0x51b472 = null;
            }
            const _0x3e105e = [_0x48f58b(0x16e), _0x48f58b(0x172), _0x48f58b(0x173), 'uid'];
            const _0x535d55 = [];
            if (!_0x51b472) {
                _0x535d55[_0x48f58b(0x188)](..._0x3e105e);
                console[_0x48f58b(0x151)]("UserDataSource\x20is\x20null\x20or\x20invalid.\x20All\x20required\x20fields\x20considered\x20missing.");
            } else {
                _0x3e105e[_0x48f58b(0x1b4)]((_0x3b0365) => {
                    const _0x56a5c1 = _0x51b472[_0x3b0365];
                    if (_0x56a5c1 === undefined || _0x56a5c1 === null || _0x56a5c1 === '') {
                        _0x535d55[_0x48f58b(0x188)](_0x3b0365);
                    }
                });
                console[_0x48f58b(0x18c)](`Checked\x20required\x20user\x20fields.\x20Missing:\x20${_0x535d55['join'](',\x20')}.`);
                if (_0x5844c1)
                    _0x5844c1[_0x48f58b(0x144)] = _0x51b472[_0x48f58b(0x16e)] || 'غير\x20متوفر';
                if (_0x47f208)
                    _0x47f208[_0x48f58b(0x144)] = _0x51b472[_0x48f58b(0x172)] || 'غير\x20متوفر';
                if (_0x27ed1d)
                    _0x27ed1d[_0x48f58b(0x144)] = _0x51b472[_0x48f58b(0x173)] || 'غير\x20متوفر';
                if (_0x580218)
                    _0x580218[_0x48f58b(0x144)] = _0x51b472['uid'] || 'غير\x20متوفر';
                console[_0x48f58b(0x18c)]("User\x20data\x20display\x20elements\x20filled.");
            }
            if (_0x535d55[_0x48f58b(0x176)] === 0x0) {
                _0x2056ba = _0x51b472;
                console[_0x48f58b(0x18c)]("User\x20data\x20is\x20complete\x20and\x20valid.\x20Proceeding\x20with\x20checkout\x20setup.");
                if (_0x306788)
                    _0x306788[_0x48f58b(0x1a7)]['display'] = _0x48f58b(0x14e);
            } else {
                console[_0x48f58b(0x151)](`User\x20data\x20is\x20incomplete\x20or\x20missing.\x20Missing\x20fields:\x20${_0x535d55['join'](',\x20')}.\x20Button\x20will\x20remain\x20disabled.`);
                if (_0x51b472 && _0x535d55[_0x48f58b(0x176)] === 0x1 && _0x535d55[_0x48f58b(0x153)]('phoneNumber')) {
                    console[_0x48f58b(0x151)]("Phone\x20number\x20is\x20the\x20only\x20missing\x20required\x20field.\x20Displaying\x20floating\x20prompt.");
                    if (_0x3d301b)
                        _0x3d301b[_0x48f58b(0x17f)][_0x48f58b(0x18a)]('hidden');
                    if (_0x4c6acb) {
                        _0x4c6acb[_0x48f58b(0x17f)][_0x48f58b(0x18c)]('hidden');
                        if (_0x1c833d)
                            _0x1c833d[_0x48f58b(0x144)] = checkoutConfig[_0x48f58b(0x19a)];
                        if (_0x294e9f) {
                            _0x294e9f[_0x48f58b(0x178)] = checkoutConfig['profilePageUrl'];
                            _0x294e9f[_0x48f58b(0x144)] = checkoutConfig[_0x48f58b(0x1b7)];
                        }
                    }
                    if (_0x306788)
                        _0x306788[_0x48f58b(0x1a7)]['display'] = _0x48f58b(0x14e);
                    if (_0x58c308)
                        _0x58c308[_0x48f58b(0x1b5)] = !![];
                } else {
                    if (_0x3d301b) {
                        _0x3d301b[_0x48f58b(0x17f)][_0x48f58b(0x18c)]('hidden');
                    }
                    if (_0x4c6acb) {
                        _0x4c6acb[_0x48f58b(0x17f)][_0x48f58b(0x18a)]('hidden');
                    }
                    if (_0x306788) {
                        _0x306788[_0x48f58b(0x144)] = checkoutConfig['userDataLoadError'] + ' (بيانات\x20أساسية\x20للمستخدم\x20مفقودة)';
                        _0x306788[_0x48f58b(0x184)] = 'error';
                        _0x306788[_0x48f58b(0x1a7)]['display'] = 'block';
                    }
                    if (_0x58c308)
                        _0x58c308[_0x48f58b(0x1b5)] = !![];
                    if (!_0x51b472) {
                        console[_0x48f58b(0x148)]("User\x20not\x20logged\x20in.\x20Redirecting\x20to\x20login\x20page.");
                        setTimeout(() => {
                            var _0x2194c7 = _0x48f58b;
                            window[_0x2194c7(0x178)][_0x2194c7(0x178)] = checkoutConfig[_0x2194c7(0x19f)];
                        }, 0xbb8);
                    }
                }
            }
            displayPaymentMethods();
            console[_0x48f58b(0x18c)]('Payment\x20methods\x20displayed.');
            document[_0x48f58b(0x141)]('paymentMethodsList')[_0x48f58b(0x193)]('change', function() {
                updatePromoSectionVisibility();
                resetPromoIfNotCIH();
            });
            const _0x56a682 = document[_0x48f58b(0x141)]('applyPromoButton');
            if (_0x56a682) {
                _0x56a682[_0x48f58b(0x193)]('click', handleApplyPromo);
                console[_0x48f58b(0x18c)]('Apply\x20promo\x20button\x20listener\x20added.');
            } else {
                console[_0x48f58b(0x151)]('Apply\x20promo\x20button\x20not\x20found.');
            }
            const _0x1c676d = document[_0x48f58b(0x141)]('promoCodeInput');
            const _0x25e1a1 = document[_0x48f58b(0x141)]('promoStatus');
            if (_0x1c676d && _0x25e1a1 && _0x56a682) {
                _0x1c676d[_0x48f58b(0x193)]('input', () => {
                    var _0x5c421f = _0x48f58b;
                    const _0x49635b = _0x1c676d[_0x5c421f(0x1b4)][_0x5c421f(0x1b6)]()[_0x5c421f(0x19a)]();
                    if (_0x3c383f && _0x49635b !== _0x3c383f) {
                        console[_0x5c421f(0x18c)]('Promo\x20code\x20input\x20changed\x20after\x20a\x20code\x20was\x20applied.\x20Resetting\x20discount.');
                        _0x296a1a = 0x0;
                        _0x3f1f7d = _0x4c20fe;
                        _0x3c383f = null;
                        updateTotalsDisplay();
                        _0x25e1a1[_0x5c421f(0x190)] = checkoutConfig['kodeP1'];
                        _0x25e1a1[_0x5c421f(0x184)] = '';
                        _0x56a682[_0x5c421f(0x1b5)] = ![];
                        _0x25e1a1[_0x5c421f(0x1a7)]['display'] = 'block';
                    } else if (_0x49635b === '' && _0x3c383f) {
                        console[_0x5c421f(0x18c)]('Promo\x20code\x20input\x20cleared\x20after\x20a\x20code\x20was\x20applied.\x20Resetting\x20discount.');
                        _0x296a1a = 0x0;
                        _0x3f1f7d = _0x4c20fe;
                        _0x3c383f = null;
                        updateTotalsDisplay();
                        _0x25e1a1[_0x5c421f(0x190)] = checkoutConfig['kodeP1'];
                        _0x25e1a1[_0x5c421f(0x184)] = '';
                        _0x56a682[_0x5c421f(0x1b5)] = ![];
                        _0x25e1a1[_0x5c421f(0x1a7)]['display'] = 'block';
                    } else if (_0x49635b === '') {
                        _0x25e1a1[_0x5c421f(0x190)] = checkoutConfig['kodeP1'];
                        _0x25e1a1[_0x5c421f(0x184)] = '';
                        _0x25e1a1[_0x5c421f(0x1a7)]['display'] = 'block';
                    }
                });
                _0x25e1a1[_0x48f58b(0x190)] = checkoutConfig['kodeP1'];
                _0x25e1a1[_0x48f58b(0x184)] = '';
                _0x25e1a1[_0x48f58b(0x1a7)]['display'] = 'block';
                console[_0x48f58b(0x18c)]('Promo\x20code\x20input\x20listener\x20added\x20and\x20initial\x20status\x20set.');
            } else {
                console[_0x48f58b(0x151)]("Promo\x20code\x20input,\x20status\x20div,\x20or\x20apply\x20button\x20not\x20found\x20for\x20input\x20listener\x20setup.");
            }
            const _0x576304 = document[_0x48f58b(0x141)]('paymentScreenshot');
            const _0x53d105 = document[_0x48f58b(0x141)]('paymentScreenshotPreview');
            const _0x1c81ac = document[_0x48f58b(0x141)]('screenshotPreviewContainer');
            const _0x35091c = document[_0x48f58b(0x141)]('clearScreenshotButton');
            const _0x213a77 = document[_0x48f58b(0x18f)]('.screenshot-upload\x20label');
            if (_0x576304 && _0x53d105 && _0x1c81ac && _0x35091c && _0x213a77) {
                _0x576304[_0x48f58b(0x193)]('change', function(_0x546b5a) {
                    var _0x53e1a0 = _0x48f58b;
                    const _0x45f5a8 = _0x546b5a[_0x53e1a0(0x194)]['files'][0x0];
                    if (_0x45f5a8) {
                        const _0x4b7914 = new FileReader();
                        _0x4b7914[_0x53e1a0(0x14a)] = function(_0x47e12f) {
                            var _0x56a42a = _0x53e1a0;
                            _0x53d105[_0x56a42a(0x182)] = _0x47e12f[_0x56a42a(0x194)]['result'];
                            _0x213a77[_0x56a42a(0x1a7)]['display'] = _0x56a42a(0x14e);
                            _0x1c81ac[_0x56a42a(0x1a7)]['display'] = 'block';
                        };
                        _0x4b7914[_0x53e1a0(0x14b)](_0x45f5a8);
                    } else {
                        _0x53d105[_0x53e1a0(0x182)] = '#';
                        _0x213a77[_0x53e1a0(0x1a7)]['display'] = 'flex';
                        _0x1c81ac[_0x53e1a0(0x1a7)]['display'] = _0x53e1a0(0x14e);
                    }
                });
                _0x35091c[_0x48f58b(0x193)]('click', function() {
                    var _0x26c71c = _0x48f58b;
                    _0x576304[_0x26c71c(0x1b4)] = '';
                    _0x53d105[_0x26c71c(0x182)] = '#';
                    _0x213a77[_0x26c71c(0x1a7)]['display'] = 'flex';
                    _0x1c81ac[_0x26c71c(0x1a7)]['display'] = _0x26c71c(0x14e);
                });
            }
            if (_0x58c308) {
                _0x58c308[_0x48f58b(0x193)]('click', handleConfirmPurchase);
            }
            if (_0x5c421f && _0x2056ba && _0x535d55[_0x48f58b(0x176)] === 0x0) {
                if (_0x58c308) {
                    _0x58c308[_0x48f58b(0x1b5)] = ![];
                }
            } else {
                if (!_0x5c421f && _0x306788 && _0x306788[_0x48f58b(0x1a7)]['display'] !== 'block') {
                    _0x306788[_0x48f58b(0x190)] = 'تعذر\x20تحميل\x20تفاصيل\x20الطلب\x20لإتمام\x20عملية\x20الدفع.\x20الرجاء\x20العودة\x20للصفحة\x20السابقة\x20والمحاولة\x20مرة\x20أخرى.';
                    _0x306788[_0x48f58b(0x184)] = 'error';
                    _0x306788[_0x48f58b(0x1a7)]['display'] = 'block';
                }
            }
        } else {
            console[_0x48f58b(0x18c)]("No\x20valid\x20order\x20details\x20found\x20in\x20sessionStorage.\x20Displaying\x20history\x20view.");
            if (_0x3d301b)
                _0x3d301b[_0x48f58b(0x17f)][_0x48f58b(0x18a)]('hidden');
            if (_0x4c6acb)
                _0x4c6acb[_0x48f58b(0x17f)][_0x48f58b(0x18a)]('hidden');
            if (_0x589574) {
                _0x589574[_0x48f58b(0x17f)][_0x48f58b(0x18c)]('hidden');
                const _0x19a084 = _0x589574[_0x48f58b(0x18f)]('#closeHistoryPopup');
                if (_0x19a084) {
                    _0x19a084[_0x48f58b(0x193)]('click', function() {
                        var _0x5501d6 = _0x48f58b;
                        window[_0x5501d6(0x178)][_0x5501d6(0x178)] = checkoutConfig[_0x5501d6(0x1b7)];
                    });
                }
            } else {
                if (_0x306788) {
                    _0x306788[_0x48f58b(0x190)] = 'خطأ\x20فادح:\x20عنصر\x20سجل\x20الطلبات\x20مفقود\x20في\x20الصفحة.';
                    _0x306788[_0x48f58b(0x184)] = 'error';
                    _0x306788[_0x48f58b(0x1a7)]['display'] = 'block';
                }
                if (_0x58c308)
                    _0x58c308[_0x48f58b(0x1b5)] = !![];
                return;
            }
            _0x48f58b(0x19e)();
            const _0x573b0a = document[_0x48f58b(0x141)]('tableHistory');
            if (_0x573b0a) {
                _0x573b0a[_0x48f58b(0x193)]('click', function(_0x24d402) {
                    var _0x1c5a96 = _0x48f58b;
                    const _0x272b16 = _0x24d402[_0x1c5a96(0x194)];
                    if (_0x272b16 && _0x272b16[_0x1c5a96(0x17f)][_0x1c5a96(0x153)]('complete-order-button')) {
                        const _0x3b5f90 = _0x272b16[_0x1c5a96(0x18f)]('data-order-number');
                        if (_0x3b5f90) {
                            _0x1c5a96(0x1c1)(_0x3b5f90, 'completed');
                            _0x1c5a96(0x19e)();
                        }
                    }
                });
            }
        }
        function updatePromoSectionVisibility() {
            var _0x31006a = _0x438df3;
            const _0x4b6697 = document[_0x31006a(0x18f)]('input[name="paymentMethod"]:checked');
            const _0x507119 = document[_0x31006a(0x18f)]('.promo-section');
            const _0x356611 = document[_0x31006a(0x18f)]('.cih-discount-note');
            if (_0x4b6697 && _0x4b6697[_0x31006a(0x1b4)][_0x31006a(0x1b6)]() === _0x31006a(0x1c5)) {
                if (_0x507119)
                    _0x507119[_0x31006a(0x1a7)]['display'] = _0x31006a(0x1a5);
                if (_0x356611)
                    _0x356611[_0x31006a(0x1a7)]['display'] = _0x31006a(0x1a5);
            } else {
                if (_0x507119)
                    _0x507119[_0x31006a(0x1a7)]['display'] = _0x31006a(0x1a4);
                if (_0x356611)
                    _0x356611[_0x31006a(0x1a7)]['display'] = _0x31006a(0x1a4);
            }
        }
        function resetPromoIfNotCIH() {
            var _0x4d5885 = _0x438df3;
            const _0x5c328e = document[_0x4d5885(0x18f)]('input[name="paymentMethod"]:checked');
            const _0x41e8c9 = document[_0x4d5885(0x141)]('promoCodeInput');
            const _0x25e1a1 = document[_0x4d5885(0x141)]('promoStatus');
            if (!_0x5c328e || _0x5c328e[_0x4d5885(0x1b4)][_0x4d5885(0x1b6)]() !== _0x4d5885(0x1c5)) {
                _0x296a1a = 0x0;
                _0x3f1f7d = _0x4c20fe;
                _0x3c383f = null;
                updateTotalsDisplay();
                if (_0x41e8c9)
                    _0x41e8c9[_0x4d5885(0x1b4)] = '';
                if (_0x25e1a1) {
                    _0x25e1a1[_0x4d5885(0x190)] = checkoutConfig['kodeP1'];
                    _0x25e1a1[_0x4d5885(0x184)] = '';
                    _0x25e1a1[_0x4d5885(0x1a7)]['display'] = 'block';
                }
            }
        }
    });
    function saveOrderToHistory(_0x4465d1) {
        var _0x5a183d = _0x438df3;
        console[_0x5a183d(0x18c)]('Attempting\x20to\x20save\x20order\x20to\x20local\x20history:', _0x4465d1);
        try {
            const _0x3c373a = localStorage[_0x5a183d(0x14a)]('userOrderHistory');
            let _0x393c8d = _0x3c373a ? JSON[_0x5a183d(0x18d)](_0x3c373a) : [];
            const _0x415b3b = {
                ..._0x4465d1,
                'timestamp': Date[_0x5a183d(0x1b2)](),
                'status': _0x5a183d(0x1a1)
            };
            _0x393c8d[_0x5a183d(0x1c0)](_0x415b3b);
            const _0x5714d6 = 0x14;
            if (_0x393c8d[_0x5a183d(0x176)] > _0x5714d6) {
                _0x393c8d = _0x393c8d[_0x5a183d(0x198)](0x0, _0x5714d6);
            }
            localStorage[_0x5a183d(0x1a4)]('userOrderHistory', JSON[_0x5a183d(0x1a3)](_0x393c8d));
        } catch (_0x390141) {
            console[_0x5a183d(0x148)]("Failed\x20to\x20save\x20order\x20to\x20local\x20history:", _0x390141);
        }
    }
    function updateOrderStatusInHistory(_0x2213e4, _0x5d9b73) {
        var _0x411e74 = _0x438df3;
        console[_0x411e74(0x18c)](`Attempting\x20to\x20update\x20status\x20for\x20order\x20${_0x2213e4}\x20to\x20${_0x5d9b73}.`);
        try {
            const _0x501b45 = localStorage[_0x411e74(0x14a)]('userOrderHistory');
            let _0x3b1c67 = _0x501b45 ? JSON[_0x411e74(0x18d)](_0x501b45) : [];
            const _0x1c2b53 = _0x3b1c67[_0x411e74(0x1a9)](_0x5a6390 => _0x5a6390[_0x411e74(0x1c1)] === _0x2213e4);
            if (_0x1c2b53 > -0x1) {
                _0x3b1c67[_0x1c2b53][_0x411e74(0x1b2)] = _0x5d9b73;
                localStorage[_0x411e74(0x1a4)]('userOrderHistory', JSON[_0x411e74(0x1a3)](_0x3b1c67));
            }
        } catch (_0x5501d6) {
            console[_0x411e74(0x148)]("Failed\x20to\x20update\x20order\x20status\x20in\x20local\x20history:", _0x5501d6);
        }
    }
    function displayOrderHistory() {
        var _0x2a1789 = _0x438df3;
        console[_0x2a1789(0x18c)]('Starting\x20displayOrderHistory\x20function.');
        const _0x2e1962 = document[_0x2a1789(0x141)]('tableHistory');
        const _0x52b61f = document[_0x2a1789(0x18f)]('.container-history\x20.note');
        if (!_0x2e1962 || !_0x52b61f) {
            console[_0x2a1789(0x148)]("Required\x20history\x20elements\x20not\x20found.");
            return;
        }
        try {
            const _0x1d5b32 = localStorage[_0x2a1789(0x14a)]('userOrderHistory');
            let _0x2863a8 = _0x1d5b32 ? JSON[_0x2a1789(0x18d)](_0x1d5b32) : [];
            const _0x13c79c = Date[_0x2a1789(0x1b2)]() - 0x240c8400;
            const _0x3f1f7d = _0x2863a8[_0x2a1789(0x1b9)](_0x3d706e => _0x3d706e[_0x2a1789(0x1b2)] && _0x3d706e[_0x2a1789(0x1b2)] > _0x13c79c);
            if (_0x3f1f7d[_0x2a1789(0x176)] !== _0x2863a8[_0x2a1789(0x176)]) {
                localStorage[_0x2a1789(0x1a4)]('userOrderHistory', JSON[_0x2a1789(0x1a3)](_0x3f1f7d));
            }
            const _0x2867a5 = _0x3f1f7d;
            if (_0x2867a5[_0x2a1789(0x176)] === 0x0) {
                _0x52b61f[_0x2a1789(0x1a7)]['display'] = _0x2a1789(0x14e);
                let _0x3e105e = `<div\x20class="${_0x2a1789(0x1c3)}">`;
                _0x3e105e += '<span\x20class="no-orders-icon">!</span>';
                _0x3e105e += `<p>${_0x2a1789(0x1c4)}</p>`;
                _0x3e105e += '</div>';
                _0x2e1962[_0x2a1789(0x190)] = _0x3e105e;
            } else {
                _0x52b61f[_0x2a1789(0x1a7)]['display'] = _0x2a1789(0x1a5);
                let _0x298495 = '';
                _0x2867a5[_0x2a1789(0x1c6)]((_0x3a5a22) => {
                    var _0x205265 = _0x2a1789;
                    const _0x4525d6 = new Date(_0x3a5a22[_0x205265(0x1b2)])[_0x205265(0x1c7)]('ar-MA', {
                        'timeZone': _0x205265(0x1c8)
                    });
                    const _0x344b58 = _0x3a5a22[_0x205265(0x1b2)] || 'غير\x20متوفر';
                    _0x298495 += `<div\x20class="${_0x205265(0x1c9)}"\x20data-order-number="${_0x3a5a22[_0x205265(0x1c1)] || ''}">`;
                    _0x298495 += `<p><strong>${checkoutConfig[_0x205265(0x1ca)]}</strong>\x20<span>${_0x3a5a22[_0x205265(0x1c1)] || 'غير\x20متوفر'}</span></p>`;
                    if (_0x3a5a22[_0x205265(0x1b5)] || _0x3a5a22[_0x205265(0x1b6)]) {
                        if (_0x3a5a22[_0x205265(0x1b5)])
                            _0x298495 += `<p><strong>${checkoutConfig[_0x205265(0x1cb)]}</strong>\x20<span>${_0x3a5a22[_0x205265(0x1b5)]}</span></p>`;
                        if (_0x3a5a22[_0x205265(0x1b6)])
                            _0x298495 += `<p><strong>${checkoutConfig[_0x205265(0x1cc)]}</strong>\x20<span><a\x20href="${_0x3a5a22[_0x205265(0x1b6)]}"\x20target="_blank">${_0x3a5a22[_0x205265(0x1b6)]}</a></span></p>`;
                        if (_0x3a5a22[_0x205265(0x1b7)])
                            _0x298495 += `<p><strong>${checkoutConfig[_0x205265(0x1cd)]}</strong>\x20<span>${_0x3a5a22[_0x205265(0x1b7)]}</span></p>`;
                        if (_0x3a5a22[_0x205265(0x1b4)])
                            _0x298495 += `<p><strong>${checkoutConfig[_0x205265(0x1ce)]}</strong>\x20<span>${_0x3a5a22[_0x205265(0x1b4)]}</span></p>`;
                    } else {
                        _0x298495 += `<p><strong>${checkoutConfig[_0x205265(0x1cb)]}</strong>\x20<span>${_0x3a5a22[_0x205265(0x1b1)] || 'غير\x20محدد'}\x20-\x20${_0x3a5a22[_0x205265(0x1b4)] || ''}</span></p>`;
                        if (_0x3a5a22[_0x205265(0x1b7)])
                            _0x298495 += `<p><strong>${checkoutConfig[_0x205265(0x1cd)]}</strong>\x20<span>${_0x3a5a22[_0x205265(0x1b7)] || 'لا\x20يوجد'}</span></p>`;
                    }
                    const _0x56a42a = _0x3a5a22[_0x205265(0x1cf)] != null ? _0x3a5a22[_0x205265(0x1cf)] : _0x3a5a22['subtotal'] != null ? parseFloat(_0x3a5a22['subtotal']) : undefined;
                    const _0x546c4f = _0x3a5a22[_0x205265(0x1d0)] != null ? _0x3a5a22[_0x205265(0x1d0)] : _0x3a5a22['subtotal'] != null ? parseFloat(_0x3a5a22['subtotal']) : undefined;
                    if (_0x56a42a != null) {
                        _0x298495 += `<p><strong>${checkoutConfig[_0x205265(0x1ce)]}</strong>\x20<span>درهم.\x20${_0x56a42a[_0x205265(0x199)](0x2)}</span></p>`;
                    }
                    if (_0x3a5a22[_0x205265(0x1a6)]) {
                        _0x298495 += `<p><strong>${checkoutConfig[_0x205265(0x1d2)]}</strong>\x20<span>${_0x3a5a22[_0x205265(0x1a6)]}</span></p>`;
                    }
                    const _0x3f533a = (_0x56a42a != null && _0x546c4f != null) ? _0x56a42a - _0x546c4f : 0x0;
                    if (_0x3f533a > 0x0) {
                        _0x298495 += `<p><strong>${checkoutConfig[_0x205265(0x1d1)]}</strong>\x20<span>درهم.\x20${_0x3f533a[_0x205265(0x199)](0x2)}</span></p>`;
                    }
                    if (_0x546c4f != null) {
                        _0x298495 += `<p><strong>${checkoutConfig[_0x205265(0x1d3)]}</strong>\x20<span>درهم.\x20${_0x546c4f[_0x205265(0x199)](0x2)}</span></p>`;
                    } else {
                        _0x298495 += `<p><strong>${checkoutConfig[_0x205265(0x1d3)]}</strong>\x20<span>غير\x20متوفر</span></p>`;
                    }
                    _0x298495 += `<p><strong>${checkoutConfig[_0x205265(0x1d4)]}</strong>\x20<span>${_0x3a5a22[_0x205265(0x1d5)] || 'غير\x20محدد'}</span></p>`;
                    _0x298495 += `<p><strong>${checkoutConfig[_0x205265(0x1d6)]}</strong>\x20<span>${_0x4525d6}</span></p>`;
                    _0x298495 += `<p><strong>📪\x20حالة\x20الطلب:</strong>\x20<span\x20class="order-status\x20${_0x344b58 === 'completed' ? 'completed' : ''}">${_0x344b58 === _0x205265(0x1a1) ? checkoutConfig[_0x205265(0x1d7)] : _0x344b58 === 'completed' ? checkoutConfig[_0x205265(0x1d8)] : _0x344b58}</span></p>`;
                    if (_0x3a5a22[_0x205265(0x1b2)] === _0x205265(0x1a1)) {
                        _0x298495 += `<button\x20class="complete-order-button"\x20data-order-number="${_0x3a5a22[_0x205265(0x1c1)] || ''}">${checkoutConfig[_0x205265(0x1d8)]}</button>`;
                    } else {
                        _0x298495 += `<button\x20class="complete-order-button"\x20disabled>تم\x20الإنتهاء</button>`;
                    }
                    _0x298495 += `</div>`;
                });
                _0x2e1962[_0x2a1789(0x190)] = _0x298495;
            }
        } catch (_0x1f5f23) {
            console[_0x2a1789(0x148)]("Failed\x20to\x20display\x20order\x20history\x20(caught\x20error):", _0x1f5f23);
            _0x52b61f[_0x2a1789(0x1a7)]['display'] = _0x2a1789(0x1a5);
            _0x2e1962[_0x2a1789(0x190)] = '<p>حدث\x20خطأ\x20في\x20عرض\x20سجل\x20الطلبات.</p>';
        }
    }
    function displayPaymentMethods() {
        var _0x510f84 = _0x438df3;
        const _0x550304 = document[_0x510f84(0x141)]('paymentMethodsList');
        const _0x16d9da = document[_0x510f84(0x141)]('selectedAccountDetails');
        const _0x53805f = document[_0x510f84(0x141)]('accountLogo');
        const _0x344b58 = document[_0x510f84(0x141)]('accountName');
        const _0x463283 = document[_0x510f84(0x141)]('accountDetails');
        if (!_0x550304 || !_0x16d9da || !_0x53805f || !_0x344b58 || !_0x463283) {
            console[_0x510f84(0x148)]("Payment\x20method\x20display\x20elements\x20not\x20found.");
            return;
        }
        _0x550304[_0x510f84(0x190)] = '';
        _0x3f5385[_0x510f84(0x1c6)]((_0x5c8d62) => {
            var _0x521f57 = _0x510f84;
            const _0x31a293 = document[_0x521f57(0x18b)]('div');
            _0x31a293[_0x521f57(0x17f)][_0x521f57(0x18a)]('payment-method-option');
            _0x31a293[_0x521f57(0x1db)]('data-id', _0x5c8d62['id']);
            const _0x27c152 = document[_0x521f57(0x18b)]('input');
            _0x27c152[_0x521f57(0x1dc)] = _0x521f57(0x1dd);
            _0x27c152[_0x521f57(0x1de)] = _0x521f57(0x1d5);
            _0x27c152[_0x521f57(0x1df)] = `method-${_0x5c8d62['id']}`;
            _0x27c152[_0x521f57(0x1b4)] = _0x5c8d62['id'];
            const _0x411e86 = document[_0x521f57(0x18b)]('label');
            _0x411e86[_0x521f57(0x1e0)] = `method-${_0x5c8d62['id']}`;
            _0x411e86[_0x521f57(0x190)] = `<img\x20src="${_0x5c8d62[_0x521f57(0x1e1)]}"\x20alt="${_0x5c8d62['id']}"\x20style="height:\x2030px;\x20vertical-align:\x20middle;\x20margin-left:\x2010px;">${_0x5c8d62['id']}`;
            _0x31a293[_0x521f57(0x179)](_0x27c152);
            _0x31a293[_0x521f57(0x179)](_0x411e86);
            _0x550304[_0x521f57(0x179)](_0x31a293);
            _0x27c152[_0x521f57(0x193)]('change', function() {
                var _0x501306 = _0x521f57;
                if (this['checked']) {
                    _0x53805f[_0x501306(0x190)] = `<img\x20src="${_0x5c8d62[_0x501306(0x1e1)]}"\x20alt="${_0x5c8d62[_0x501306(0x1e2)]}">`;
                    _0x344b58[_0x501306(0x190)] = _0x5c8d62[_0x501306(0x1e2)];
                    _0x463283[_0x501306(0x190)] = _0x5c8d62[_0x501306(0x1e3)];
                    _0x16d9da[_0x501306(0x1a7)]['display'] = _0x501306(0x1a5);
                }
            });
        });
        _0x16d9da[_0x510f84(0x1a7)]['display'] = _0x510f84(0x1a4);
    }
    function updateTotalsDisplay() {
        var _0x205265 = _0x438df3;
        const _0x38e55c = document[_0x205265(0x141)]('initialTotalDisplay');
        const _0x12d31c = document[_0x205265(0x141)]('discountAmountDisplay');
        const _0x5e0242 = document[_0x205265(0x141)]('discountRow');
        const _0x32356c = document[_0x205265(0x141)]('finalTotalDisplay');
        if (!_0x38e55c || !_0x12d31c || !_0x5e0242 || !_0x32356c) {
            console[_0x205265(0x148)]("Total\x20display\x20elements\x20not\x20found.");
            return;
        }
        _0x38e55c[_0x205265(0x190)] = `${_0x4c20fe[_0x205265(0x199)](0x2)}`;
        if (_0x296a1a > 0x0) {
            _0x12d31c[_0x205265(0x190)] = `${_0x296a1a[_0x205265(0x199)](0x2)}`;
            _0x5e0242[_0x205265(0x1a7)]['display'] = _0x205265(0x1a5);
        } else {
            _0x5e0242[_0x205265(0x1a7)]['display'] = _0x205265(0x1a4);
        }
        _0x32356c[_0x205265(0x190)] = `${_0x3f1f7d[_0x205265(0x199)](0x2)}`;
    }
    async function handleApplyPromo() {
        var _0x52b667 = _0x438df3;
        const _0x4c87b7 = document[_0x52b667(0x141)]('promoCodeInput');
        const _0x48a735 = _0x4c87b7[_0x52b667(0x1b4)][_0x52b667(0x1b6)]()[_0x52b667(0x19a)]();
        const _0x26c71c = document[_0x52b667(0x141)]('promoStatus');
        const _0x5a1b55 = document[_0x52b667(0x141)]('applyPromoButton');
        const _0x3b1c67 = document[_0x52b667(0x141)]('loadingMessage');
        if (!_0x4c87b7 || !_0x26c71c || !_0x5a1b55 || !_0x3b1c67) {
            return;
        }
        const _0x3d0012 = document[_0x52b667(0x18f)]('input[name="paymentMethod"]:checked');
        if (!_0x3d0012 || _0x3d0012[_0x52b667(0x1b4)][_0x52b667(0x1b6)]() !== 'cih') {
            _0x26c71c[_0x52b667(0x190)] = 'الخصم\x20متاح\x20فقط\x20عند\x20الدفع\x20عبر\x20بنك\x20CIH';
            _0x26c71c[_0x52b667(0x184)] = 'error';
            _0x26c71c[_0x52b667(0x1a7)]['display'] = 'block';
            return;
        }
        _0x296a1a = 0x0;
        _0x3f1f7d = _0x4c20fe;
        _0x3c383f = null;
        updateTotalsDisplay();
        if (_0x48a735 === '') {
            _0x26c71c[_0x52b667(0x190)] = checkoutConfig['kodeP1'];
            _0x26c71c[_0x52b667(0x184)] = '';
            _0x5a1b55[_0x52b667(0x1b5)] = ![];
            return;
        }
        _0x5a1b55[_0x52b667(0x1b5)] = !![];
        _0x3b1c67[_0x52b667(0x190)] = checkoutConfig['loading'];
        _0x3b1c67[_0x52b667(0x1a7)]['display'] = 'block';
        _0x26c71c[_0x52b667(0x1a7)]['display'] = _0x52b667(0x14e);
        try {
            const _0x4256eb = new URLSearchParams({
                'promoCode': _0x48a735,
                'initialTotal': _0x4c20fe[_0x52b667(0x191)](),
                'userId': _0x2056ba['uid'],
                'postId': _0x4a5f45[_0x52b667(0x1b1)]
            });
            const _0x58c6cf = await fetch(checkoutConfig['appsScriptUrl'], {
                'method': _0x52b667(0x18c),
                'body': _0x4256eb
            });
            if (!_0x58c6cf[_0x52b667(0x1b8)]) {
                throw new Error(`HTTP\x20error!\x20status:\x20${_0x58c6cf[_0x52b667(0x1b2)]}`);
            }
            const _0x465715 = await _0x58c6cf[_0x52b667(0x1b7)]();
            if (_0x465715[_0x52b667(0x1b5)]) {
                if (_0x465715[_0x52b667(0x1d3)] === 'percentage') {
                    _0x296a1a = _0x4c20fe * (_0x465715[_0x52b667(0x1d4)] / 0x64);
                } else if (_0x465715[_0x52b667(0x1d3)] === 'fixed') {
                    _0x296a1a = _0x465715[_0x52b667(0x1d4)];
                } else {
                    _0x296a1a = 0x0;
                    _0x26c71c[_0x52b667(0x190)] = checkoutConfig['kodeP4'];
                    _0x26c71c[_0x52b667(0x184)] = 'error';
                }
                _0x296a1a = Math[_0x52b667(0x1e5)](_0x296a1a, _0x4c20fe);
                _0x3f1f7d = _0x4c20fe - _0x296a1a;
                _0x3c383f = _0x48a735;
                updateTotalsDisplay();
                _0x26c71c[_0x52b667(0x190)] = `${checkoutConfig['kodeP2']}\x20درهم.\x20${_0x296a1a[_0x52b667(0x199)](0x2)}`;
                _0x26c71c[_0x52b667(0x184)] = _0x52b667(0x1e6);
                _0x26c71c[_0x52b667(0x1a7)]['display'] = 'block';
            } else {
                _0x296a1a = 0x0;
                _0x3f1f7d = _0x4c20fe;
                _0x3c383f = null;
                updateTotalsDisplay();
                _0x26c71c[_0x52b667(0x190)] = _0x465715[_0x52b667(0x1b8)] || checkoutConfig['kodeP4'];
                _0x26c71c[_0x52b667(0x184)] = 'error';
                _0x26c71c[_0x52b667(0x1a7)]['display'] = 'block';
            }
        } catch (_0x39a044) {
            _0x296a1a = 0x0;
            _0x3f1f7d = _0x4c20fe;
            _0x3c383f = null;
            updateTotalsDisplay();
            _0x26c71c[_0x52b667(0x190)] = checkoutConfig['errorNotif'] + ' (خطأ\x20في\x20تطبيق\x20الكود)';
            _0x26c71c[_0x52b667(0x184)] = 'error';
            _0x26c71c[_0x52b667(0x1a7)]['display'] = 'block';
        } finally {
            _0x5a1b55[_0x52b667(0x1b5)] = ![];
            _0x3b1c67[_0x52b667(0x1a7)]['display'] = _0x52b667(0x14e);
        }
    }
    async function handleConfirmPurchase() {
        var _0x3b3333 = _0x438df3;
        const _0x41e8c9 = document[_0x3b3333(0x18f)]('input[name="paymentMethod"]:checked');
        const _0x205265 = document[_0x3b3333(0x141)]('paymentScreenshot');
        const _0x1a454d = document[_0x3b3333(0x141)]('agreeTerms');
        const _0x3788a4 = document[_0x3b3333(0x141)]('confirmPurchaseButton');
        const _0x1e3f89 = document[_0x3b3333(0x141)]('loadingMessage');
        const _0x56a42a = document[_0x3b3333(0x141)]('statusMessage');
        if (!_0x41e8c9 || !_0x205265 || !_0x1a454d || !_0x3788a4 || !_0x1e3f89 || !_0x56a42a) {
            _0x56a42a[_0x3b3333(0x190)] = checkoutConfig[_0x3b3333(0x1b0)] + ' (خطأ\x20داخلي:\x20عناصر\x20النموذج\x20مفقودة)';
            _0x56a42a[_0x3b3333(0x184)] = 'error';
            _0x56a42a[_0x3b3333(0x1a7)]['display'] = 'block';
            return;
        }
        if (!_0x2056ba || !_0x2056ba[_0x3b3333(0x16e)] || !_0x2056ba[_0x3b3333(0x172)] || !_0x2056ba[_0x3b3333(0x173)] || !_0x2056ba['uid']) {
            _0x56a42a[_0x3b3333(0x190)] = checkoutConfig[_0x3b3333(0x1d1)] + ' (بيانات\x20المستخدم\x20غير\x20كاملة)';
            _0x56a42a[_0x3b3333(0x184)] = 'error';
            _0x56a42a[_0x3b3333(0x1a7)]['display'] = 'block';
            _0x3788a4[_0x3b3333(0x1b5)] = !![];
            return;
        }
        if (!_0x4a5f45 || typeof _0x4a5f45 !== 'object' || (_0x4a5f45[_0x3b3333(0x1b1)] == null || _0x4a5f3e[_0x3b3333(0x1b3)] == null || !_0x4a5f45[_0x3b3333(0x1b4)] || !_0x4a5f45[_0x3b3333(0x1b5)] || !_0x4a5f45[_0x3b3333(0x1b6)])) {
            _0x56a42a[_0x3b3333(0x190)] = 'حدث\x20خطأ\x20داخلي:\x20تفاصيل\x20الطلب\x20أو\x20بيانات\x20المنتج\x20الأساسية\x20غير\x20متوفرة\x20بشكل\x20صحيح.';
            _0x56a42a[_0x3b3333(0x184)] = 'error';
            _0x56a42a[_0x3b3333(0x1a7)]['display'] = 'block';
            _0x3788a4[_0x3b3333(0x1b5)] = !![];
            return;
        }
        if (_0x41e8c9[_0x3b3333(0x1b4)][_0x3b3333(0x1b6)]() !== _0x3b3333(0x1c5)) {
            _0x296a1a = 0x0;
            _0x3f1f7d = _0x4c20fe;
            _0x3c383f = null;
        }
        if (!_0x41e8c9) {
            _0x56a42a[_0x3b3333(0x190)] = checkoutConfig['bankNull'];
            _0x56a42a[_0x3b3333(0x184)] = 'error';
            _0x56a42a[_0x3b3333(0x1a7)]['display'] = 'block';
            return;
        }
        if (_0x205265['files'][_0x3b3333(0x176)] === 0x0) {
            _0x56a42a[_0x3b3333(0x190)] = checkoutConfig['ssNull'];
            _0x56a42a[_0x3b3333(0x184)] = 'error';
            _0x56a42a[_0x3b3333(0x1a7)]['display'] = 'block';
            return;
        }
        if (!_0x1a454d['checked']) {
            _0x56a42a[_0x3b3333(0x190)] = checkoutConfig['termsNull'];
            _0x56a42a[_0x3b3333(0x184)] = 'error';
            _0x56a42a[_0x3b3333(0x1a7)]['display'] = 'block';
            return;
        }
        _0x1e3f89[_0x3b3333(0x190)] = checkoutConfig['loading'];
        _0x1e3f89[_0x3b3333(0x1a7)]['display'] = 'block';
        _0x56a42a[_0x3b3333(0x1a7)]['display'] = _0x3b3333(0x14e);
        _0x3788a4[_0x3b3333(0x1b5)] = !![];
        const _0x53d162 = {
            'fullName': _0x2056ba[_0x3b3333(0x16e)],
            'email': _0x2056ba[_0x3b3333(0x172)],
            'phone': _0x2056ba[_0x3b3333(0x173)],
            'userId': _0x2056ba['uid'],
            'postId': _0x4a5f45[_0x3b3333(0x1b1)],
            'productName': _0x4a5f45[_0x3b3333(0x1b5)],
            'articleTitle': _0x4a5f45['articleTitle'],
            'articleLink': _0x4a5f45[_0x3b3333(0x1b6)],
            'websiteLink': _0x4a5f45[_0x3b3333(0x1b7)],
            'packageSelectedText': _0x4a5f45[_0x3b3333(0x1b4)],
            'initialTotal': _0x4c20fe,
            'finalTotal': _0x3f1f7d,
            'paymentMethod': _0x41e8c9[_0x3b3333(0x1b4)],
            'promoCodeUsed': _0x3c383f,
            'orderTime': new Date()[_0x3b3333(0x1b1)](),
            'orderNumber': generateUniqueOrderNumber(),
            'status': _0x3b3333(0x1a1)
        };
        const _0x2b38f8 = _0x205265['files'][0x0];
        const _0x5b3648 = `${checkoutConfig['header']}\n\n` + `${checkoutConfig['body']}\n\n` + `${checkoutConfig[_0x3b3333(0x16e)]}${_0x53d162[_0x3b3333(0x16e)]}\n\n` + `${checkoutConfig[_0x3b3333(0x172)]}${_0x53d162[_0x3b3333(0x172)]}\n\n` + `${checkoutConfig[_0x3b3333(0x173)]}${_0x53d162[_0x3b3333(0x173)]}\n\n` + `${checkoutConfig['uidLabel']}\`\x20${_0x53d162['userId']}\`\x20\n\n\x20=======================\x20` + `===================\x20\n\n${checkoutConfig['noLabel']}${_0x53d162[_0x3b3333(0x1c1)]}\n\n` + `${checkoutConfig['productLabel']}${_0x53d162[_0x3b3333(0x1b5)]}\n\n` + `${checkoutConfig['articleLinkLabel']}[رابط\x20المنتج](${_0x53d162[_0x3b3333(0x1b6)] || 'لا\x20يوجد'})\n\n` + `${checkoutConfig['clientLinkLabel']}${_0x53d162[_0x3b3333(0x1b7)]}\n\n` + `${checkoutConfig[_0x3b3333(0x1b4)]}${_0x53d162[_0x3b3333(0x1b4)]}\n\n` + `${checkoutConfig['basePriceLabel']}درهم.\x20${_0x53d162['initialTotal'] ? _0x53d162['initialTotal'][_0x3b3333(0x199)](0x2) : 'N/A'}\n\n` + (_0x53d162['promoCodeUsed'] ? `${checkoutConfig[_0x3b3333(0x1a6)]}${_0x53d162[_0x3b3333(0x1a6)]}\n\n` : '') + (_0x296a1a > 0x0 ? `${checkoutConfig[_0x3b3333(0x1c1)]}درهم.\x20${_0x296a1a[_0x3b3333(0x199)](0x2)}\n\n` : '\n') + `${checkoutConfig[_0x3b3333(0x1d4)]}${_0x53d162[_0x3b3333(0x1d5)]}\n\n` + `**${checkoutConfig[_0x3b3333(0x1d3)]}**\x20درهم.\x20${_0x53d162[_0x3b3333(0x1d0)] ? _0x53d162[_0x3b3333(0x1d0)][_0x3b3333(0x199)](0x2) : 'N/A'}\n\n` + `${checkoutConfig[_0x3b3333(0x1d6)]}${new Date(_0x53d162['orderTime'])[_0x3b3333(0x1c7)]('ar-MA', {
            'timeZone': 'Africa/Casablanca'
        })}`;
        const _0x1c80f4 = new FormData();
        _0x1c80f4['append']('chat_id', checkoutConfig['chatId']);
        _0x1c80f4['append']('photo', _0x2b38f8);
        _0x1c80f4['append']('caption', _0x5b3648);
        _0x1c80f4['append']('parse_mode', 'Markdown');
        const _0x26955a = `https://api.telegram.org/bot${checkoutConfig['tokenBot']}/sendPhoto`;
        try {
            const _0x202b28 = await fetch(_0x26955a, {
                'method': _0x3b3333(0x18c),
                'body': _0x1c80f4
            });
            const _0x117cf4 = await _0x202b28[_0x3b3333(0x1b7)]();
            if (_0x202b28[_0x3b3333(0x1b8)] && _0x117cf4[_0x3b3333(0x1d4)]) {
                _0x56a42a[_0x3b3333(0x190)] = checkoutConfig['successNotif'];
                _0x56a42a[_0x3b3333(0x184)] = _0x3b3333(0x1e6);
                _0x56a42a[_0x3b3333(0x1a7)]['display'] = 'block';
                saveOrderToHistory(_0x53d162);
                sessionStorage[_0x3b3333(0x1c2)]('checkoutOrderDetails');
                setTimeout(() => {
                    var _0x250eb5 = _0x3b3333;
                    window[_0x250eb5(0x178)][_0x250eb5(0x178)] = checkoutConfig[_0x250eb5(0x14e)];
                }, 0xbb8);
            } else {
                _0x56a42a[_0x3b3333(0x190)] = checkoutConfig[_0x3b3333(0x1b0)] + `\x20(خطأ\x20Telegram:\x20${_0x117cf4[_0x3b3333(0x1d1)] || _0x202b28['statusText']})`;
                _0x56a42a[_0x3b3333(0x184)] = 'error';
                _0x56a42a[_0x3b3333(0x1a7)]['display'] = 'block';
            }
        } catch (_0x3a9254) {
            _0x56a42a[_0x3b3333(0x190)] = checkoutConfig[_0x3b3333(0x1b0)] + ' (خطأ\x20في\x20الاتصال\x20المباشر)';
            _0x56a42a[_0x3b3333(0x184)] = 'error';
            _0x56a42a[_0x3b3333(0x1a7)]['display'] = 'block';
        } finally {
            _0x1e3f89[_0x3b3333(0x1a7)]['display'] = _0x3b3333(0x14e);
            _0x3788a4[_0x3b3333(0x1b5)] = ![];
        }
    }
    function generateUniqueOrderNumber() {
        var _0x10b14c = _0x438df3;
        const _0x56a310 = 0xf4240;
        const _0x310f84 = 0xf423f;
        const _0x510d9f = Math[_0x10b14c(0x1c3)](Math[_0x10b14c(0x1e4)]() * (_0x310f84 - _0x56a310 + 0x1)) + _0x56a310;
        return String(_0x510d9f);
    }
    async function notifyPromoCodeUsed(_0x393c13, _0x38827c, _0x27ab5e) {
        var _0x5997d9 = _0x438df3;
        console[_0x5997d9(0x18c)](`Notifying\x20backend\x20that\x20promo\x20code\x20${_0x393c13}\x20was\x20used\x20by\x20user\x20${_0x38827c}\x20for\x20product\x20${_0x27ab5e}`);
    }
}
verifyDomain();
function checkDomainWhitelist() {
    var _0x2b8a4f = _0x438df3;
    const _0x1cf830 = window[_0x2b8a4f(0x178)]['hostname'];
    const _0x207798 = 'https://script.google.com/macros/s/AKfycbyRN9KMVthqTETWYLNuWa7KpQAq4thye0WnaogJJM_91Sog9KMJQ84pqiE9w_u8Sj8MSA/exec';
    const _0x32356c = 'checkout';
    const _0x20c6a5 = [_0x2b8a4f(0x1e7), 0x74, 0x74, 0x70, 0x73, 0x3a, 0x2f, 0x2f, 0x73, 0x69, 0x77, 0x61, 0x6e, 0x65, 0x2e, 0x78, 0x79, 0x7a];
    const _0x507119 = String[_0x2b8a4f(0x1e8)](..._0x20c6a5);
    const _0x496306 = `${_0x207798}?domain=${_0x1cf830}&sheetName=${_0x32356c}`;
    fetch(_0x496306)[_0x2b8a4f(0x1b4)]((_0x3010b9) => {
        var _0x52b667 = _0x2b8a4f;
        if (!_0x3010b9[_0x52b667(0x1b8)]) {
            throw new Error('Network\x20response\x20was\x20not\x20ok');
        }
        return _0x3010b9[_0x52b667(0x1d4)]();
    })[_0x2b8a4f(0x1b4)]((_0x13c9e6) => {
        var _0x3b8956 = _0x2b8a4f;
        if (!_0x13c9e6['isWhitelisted']) {
            window['location'][_0x3b8956(0x178)] = _0x507119;
        }
    })[_0x2b8a4f(0x1e9)]((_0x351d1e) => {
        var _0x448a27 = _0x2b8a4f;
        console[_0x448a27(0x148)]('Domain\x20check\x20failed:', _0x351d1e);
    });
}
checkDomainWhitelist();
