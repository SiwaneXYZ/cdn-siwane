!function(){"use strict";let e=null,n=!1,o=null;let lastToastState=null;let toastCooldown=7*60*1e3;function t(){n||(console.log("Initializing Ad Control System..."),n=!0,a(),e=setInterval((()=>{const n=i();n&&n.uid&&(clearInterval(e),e=null,a())}),2e3),window.addEventListener("storage",(e=>{"firebaseUserProfileData"===e.key&&setTimeout(a,1e3)})))}function a(){const e=i();const n=checkAdStatus(e);const o=JSON.stringify({isAdFree:n.isAdFree,reason:n.reason,uid:e?.uid});if(lastToastState===o)return;lastToastState=o;applyAdChanges(e,n)}function checkAdStatus(e){if(!e||!e.uid)return{isAdFree:!1,reason:"guest"};if(e.isAdmin)return{isAdFree:!1,reason:"admin_testing"};if(!0===e.isVip)return{isAdFree:!0,reason:"vip"};if(null===e.adFreeExpiry)return{isAdFree:!0,reason:"permanent"};const n=e.adFreeExpiry;if(n&&"object"==typeof n&&n.seconds){const e=1e3*n.seconds;if(e>Date.now())return{isAdFree:!0,reason:"temporary",expiryTimestamp:e}}const o=(e.accountType||"normal").toLowerCase();if("vipp"===o||"vipp"===e.adStatus)return{isAdFree:!0,reason:"legacy_vip"};return{isAdFree:!1,reason:"normal"}}function applyAdChanges(e,n){const o=document.querySelector("#preloader");o&&n.isAdFree&&o.classList.add("h");n.isAdFree?(s(),r(!0)):(d(),r(!1));showStatusToast(e,n)}function showStatusToast(e,n){if(!e?.uid)return;const o=Date.now();const t=parseInt(localStorage.getItem("adControl_lastToastTime")||"0");if(o-t<toastCooldown){const e=Math.ceil((toastCooldown-(o-t))/6e4);console.log(`Ad-Control: Toast cooldown active (${e} min remaining)`);return}let a="";let i=5e3;switch(n.reason){case"admin_testing":a="ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©: Ø£Ù†Øª Ù…Ø³Ø¤ÙˆÙ„ØŒ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø¸Ø§Ù‡Ø±Ø© Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…. âš ï¸",i=6e3;break;case"vip":a="ØªÙ… ØªÙØ¹ÙŠÙ„ Ø¥Ø¹ÙØ§Ø¡ (VIP) Ù…Ù† Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª. ðŸŽ‰";break;case"permanent":a="ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø¹ÙØ§Ø¡ Ø§Ù„Ø¯Ø§Ø¦Ù… Ù…Ù† Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª. ðŸ’Ž";break;case"temporary":const e=getTimeLeftText(n.expiryTimestamp);a=`ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø¹ÙØ§Ø¡ Ø§Ù„Ù…Ø¤Ù‚Øª ${e} â³`,i=7e3;break;case"legacy_vip":a="ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø¹ÙØ§Ø¡ (Ø­Ø³Ø§Ø¨ Ù‚Ø¯ÙŠÙ…) Ø¨Ù†Ø¬Ø§Ø­. âœ¨";break;case"normal":a="Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù…ÙØ¹Ù„Ø© Ù„Ù‡Ø°Ø§ Ø§Ù„Ø­Ø³Ø§Ø¨.",i=4e3;break;default:return}createToast(a,i);localStorage.setItem("adControl_lastToastTime",o.toString())}function getTimeLeftText(e){const n=Date.now();const o=e-n;if(o<=0)return"(Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©)";const t=Math.floor(o/(1e3*60*60*24));const a=Math.floor((o%(1e3*60*60*24))/(1e3*60*60));if(t>1)return`(Ø¨Ø§Ù‚ÙŠ ${t} Ø£ÙŠØ§Ù…)`;if(1===t)return"(Ø¨Ø§Ù‚ÙŠ ÙŠÙˆÙ… ÙˆØ§Ø­Ø¯)";if(a>1)return`(Ø¨Ø§Ù‚ÙŠ ${a} Ø³Ø§Ø¹Ø§Øª)`;if(1===a)return"(Ø¨Ø§Ù‚ÙŠ Ø³Ø§Ø¹Ø© ÙˆØ§Ø­Ø¯Ø©)";return"(ÙŠÙ†ØªÙ‡ÙŠ Ù‚Ø±ÙŠØ¨Ø§Ù‹)"}function createToast(e,n=5e3){const t=document.querySelector(".ad-control-toast");t?.remove();o&&(clearTimeout(o),o=null);const a=document.createElement("div");a.className="ad-control-toast";Object.assign(a.style,{position:"fixed",bottom:"70px",left:"50%",transform:"translateX(-50%)",background:"#333",color:"white",padding:"12px 24px",borderRadius:"4px",zIndex:"10000",maxWidth:"90%",whiteSpace:"nowrap",fontSize:"14px",textAlign:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",animation:"fadeInUp 0.3s ease-out",fontFamily:"Arial, sans-serif",lineHeight:"1.4"});const i=document.createElement("div");i.textContent=e;i.style.cssText="margin: 0; padding: 0; white-space: nowrap;";a.appendChild(i);document.body.appendChild(a);if(!document.querySelector("#ad-control-animations")){const e=document.createElement("style");e.id="ad-control-animations";e.textContent=`@keyframes fadeInUp{from{opacity:0;transform:translateX(-50%) translateY(20px)}to{opacity:1;transform:translateX(-50%) translateY(0)}}`;document.head.appendChild(e)}o=setTimeout(()=>{if(a.parentNode){a.style.animation="fadeInUp 0.3s ease-out reverse";setTimeout(()=>{a.parentNode&&a.remove()},300)}},n)}function i(){try{const e=localStorage.getItem("firebaseUserProfileData");if(!e)return null;const n=JSON.parse(e);return n.uid?n:(console.log("Ad-Control: No user logged in"),null)}catch(e){return console.error("Failed to parse user profile data",e),null}}function r(e){e?(document.body.classList.add("js-antiadblocker"),console.log("Ad-Control: Added js-antiadblocker class to body")):(document.body.classList.remove("js-antiadblocker"),console.log("Ad-Control: Removed js-antiadblocker class from body"))}function s(){const e="ad-control-hide-ads";if(document.getElementById(e))return;const n=document.createElement("style");n.id=e;n.textContent=`.adsbygoogle, ins.adsbygoogle,iframe[src*="ads"],iframe[id*="aswift_"],iframe[id*="google_ads_frame"],div[id*="ad-slot"],div[id*="AdContainer"],div[class*="ad-unit"],div[class*="ads-container"],div[class*="ad_wrapper"],#google-anno-sa,div[data-google-query-id],div[data-ad-status],[id*="advertisement"],[class*="advertisement"],[id*="banner-ad"],[class*="banner-ad"]{display:none!important;visibility:hidden!important;opacity:0!important;height:0!important;width:0!important;overflow:hidden!important}.pAd.show-if-js,.rAd.show-if-js,.pAdIf.show-if-js,.adB{display:none!important;visibility:hidden!important}`;document.head.appendChild(n);console.log("Ad-Control: Ads hidden successfully")}function d(){const e=document.getElementById("ad-control-hide-ads");e&&(e.remove(),console.log("Ad-Control: Ads visible again"))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t();window.adControlCleanup=function(){e&&(clearInterval(e),e=null);o&&(clearTimeout(o),o=null);r(!1);n=!1;lastToastState=null;console.log("Ad control system cleaned up")}}();
